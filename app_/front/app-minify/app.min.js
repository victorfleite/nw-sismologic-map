'use strict';
// Source: app-minify/app.js
var app=angular.module("alertAsApp",["ngRoute","openlayers-directive","pascalprecht.translate","angularModalService","FBFullScreen","720kb.socialshare"]).constant("LOADER",{LOADED_CLASS:"pace-done",LOADING_CLASS:"pace-progress"}).constant("CONSTANTES",{VIEW_FOLDER:"app-minify",URL_SERVIDOR:"http://{{HOST}}/vitral/app/web"}).config(["$logProvider","CONSTANTES","$translateProvider","$routeProvider",function(a,b,c,d){}]).run(["$location","$log","$rootScope","CONSTANTES",function(a,b,c,d){}]);
// Source: app-minify/controllers/main.js
app.controller("mainController",["$rootScope","$scope","$log","$translate","$location","$q","$filter","$interval","$routeParams","ModalService","popUpService","estacaoService","CONSTANTES","LOADER","Fullscreen",function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p){a.loader=o.LOADING_CLASS,b.host=e.host(),b.protocol=e.protocol(),angular.extend(b,{iconStyle:{image:{icon:{anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",opacity:.9,src:"img/marker-green.png"}}}}),b.estacoes=[],b.mapCenterConfig={center:{lat:-14.9,lon:-59.5,zoom:5}},b.mapCenterConfigOriginal={},b.mapWmsConfig={wms:{source:{type:"ImageWMS",url:"http://alert-as.inmet.gov.br:8080/geoserver/cvws/wms/",params:{LAYERS:"cvws:32",transparent:!0}}}},b.initialize=function(){a.loader=o.LOADING_CLASS,f.all([m.getEstacaoList()]).then(function(c){b.estacoes=c[0].data,a.loader=o.LOADED_CLASS})},b.resetMap=function(){b.mapCenterConfig=b.mapCenterConfigOriginal},b.isLanguageSetted=function(a){return d.use()==a},b.changeLanguage=function(a){d.use(a)},b.openModalAlert=function(a){l.showSingletonModal({templateUrl:n.VIEW_FOLDER+"/views/modalAlert.html",controller:"ModalAlertController",inputs:{emergencia:a}},function(a){a.close.then(function(a){})})},b.openModalAbout=function(){l.showSingletonModal({templateUrl:n.VIEW_FOLDER+"/views/modal-about/modalAbout_"+d.use()+".html",controller:"ModalComumController",inputs:{transfer:{}}},function(a){a.close.then(function(a){})})},b.openModalTerms=function(){l.showSingletonModal({templateUrl:n.VIEW_FOLDER+"/views/modal-terms/modalTerms_"+d.use()+".html",controller:"ModalComumController",inputs:{transfer:{}}},function(a){a.close.then(function(a){})})},b.openModalContact=function(){l.showSingletonModal({templateUrl:n.VIEW_FOLDER+"/views/modal-contact/modalContact_"+d.use()+".html",controller:"ModalComumController",inputs:{transfer:{}}},function(a){a.close.then(function(a){})})},b.openModalLegenda=function(){l.showSingletonModal({templateUrl:n.VIEW_FOLDER+"/views/modalLegenda.html",controller:"ModalComumController",inputs:{transfer:{codarService:codarService,codares:b.codares}}},function(a){a.close.then(function(a){})})},b.openHelp=function(){b.helpClass="help-"+d.use()},b.closeHelp=function(){b.helpClass=""},b.setEmergenciasSelecionadas=function(a){if(a)b.emergenciasSelecionadas=a;else switch(b.tabSelected){case"hoje":b.emergenciasSelecionadas=angular.copy(b.eventosHoje);break;case"amanha":b.emergenciasSelecionadas=angular.copy(b.eventosAmanha);break;case"futuro":b.emergenciasSelecionadas=angular.copy(b.eventosFuturos)}},b.agruparEmergenciasPorLocal=function(a){var b=function(a,b){for(var c=0;c<a.length;c++)if(a[c].uf==b)return c},c=[];for(i=0;i<a.length;i++)angular.forEach(a[i].ufsAtingidas,function(d,e){var f=b(c,d.uf);if(void 0!==f)c[f].emergencias.push(a[i]);else{var g={uf:d.uf,emergencias:[a[i]]};c.push(g)}});return g("orderBy")(c,"uf")},b.setTooltipOptions=function(a,b){return{title:a,position:b}},b.isEmpty=function(a){return!!angular.equals({},a)},b.isArrayEmpty=function(a){return 0==a.length},b.fight=function(){},a.$on("setHeaderMenuVisibility",function(a,c){b.headerMenuVisibility=c.headerMenuVisibility}),a.$on("setAlertasMenuVisibility",function(a,c){b.alertasMenuVisibility=c.alertasMenuVisibility}),a.$on("setEmergenciaOnMap",function(a,c){var d=c.emergencia;b.mapCenterConfig=d.configCenterMap,b.setEmergenciasSelecionadas([d])}),a.$on("removeEmergenciaOnMap",function(a,c){b.resetMap(),b.setEmergenciasSelecionadas()}),a.$on("loaderEvent",function(a,c){b.loader=c.loader})}]);
// Source: app-minify/controllers/modal-alert.js
app.controller("ModalAlertController",["$rootScope","$scope","$log","$filter","$translate","close","emergenciaService","emergencia",function(a,b,c,d,e,f,g,h){b.emergencia=angular.copy(h),b.municipios=angular.copy(h.municipios);var i=d("orderBy");a.loading=!1,b.$emit("setHeaderMenuVisibility",{headerMenuVisibility:!1}),b.$emit("setAlertasMenuVisibility",{alertasMenuVisibility:!1}),b.emergenciaI18nFilter=angular.copy(g.emergenciaI18nFilter),b.$emit("setEmergenciaOnMap",{emergencia:angular.copy(b.emergencia)}),b.orderarPor=function(a){b.predicate=a,b.reverse=b.predicate===a?!b.reverse:!1,b.municipios=i(b.municipios,a,b.reverse)},b.close=function(){b.$emit("removeEmergenciaOnMap"),b.$emit("setHeaderMenuVisibility",{headerMenuVisibility:!0}),b.$emit("setAlertasMenuVisibility",{alertasMenuVisibility:!0}),f("Success!")}}]);
// Source: app-minify/controllers/modal-comum.js
app.controller("ModalComumController",["$rootScope","$scope","$log","$translate","close","transfer",function(a,b,c,d,e,f){a.loading=!1,b.transfer=f,b.$emit("setHeaderMenuVisibility",{headerMenuVisibility:!1}),b.$emit("setAlertasMenuVisibility",{alertasMenuVisibility:!1}),b.close=function(){b.$emit("setHeaderMenuVisibility",{headerMenuVisibility:!0}),b.$emit("setAlertasMenuVisibility",{alertasMenuVisibility:!0}),e("Success!")}}]);
// Source: app-minify/directives/tootip.js
app.directive("tooltip",["$log",function(a){return{restrict:"A",scope:{tooltip:"="},link:function(a,b,c){var d=a.tooltip||{};$(b).tooltipster({position:d.position,theme:d.theme||"tooltipster-default",touchDevices:!1,trigger:"hover",content:angular.element("<span><strong>"+d.title+"</strong></span>")})}}}]);
// Source: app-minify/services/estacao.js
app.service("estacaoService",["$http","$log","utilService",function(a,b,c){this.getEstacaoList=function(){return a.get(c.getUrlServidor()+"/index.php?r=frontend/front/lista-de-estacoes")}}]);
// Source: app-minify/services/pop-up.js
app.service("popUpService",["$log","ModalService",function(a,b){var c={};this.isEmpty=function(a){return!!angular.equals({},a)},this.showSingletonModal=function(a,d,e){this.isEmpty(c)&&(b.showModal({templateUrl:a.templateUrl,controller:a.controller,inputs:a.inputs}).then(function(a){a.close.then(function(a){c={}}),d(a)})["catch"](function(a){e(a)}),c={modalId:Math.floor(1e5*Math.random()+1)})}}]);
// Source: app-minify/services/util.js
app.service("utilService",["$rootScope","CONSTANTES","$http","$log","$q","$location",function(a,b,c,d,e,f){this.getUrlServidor=function(){return b.URL_SERVIDOR.replace("{{HOST}}",f.host())},this.retiraAcentos=function(a){var b="Ã¡Ã Ã£Ã¢Ã¤Ã©Ã¨ÃªÃ«Ã­Ã¬Ã®Ã¯Ã³Ã²ÃµÃ´Ã¶ÃºÃ¹Ã»Ã¼Ã§ÃÃ€ÃƒÃ‚Ã„Ã‰ÃˆÃŠÃ‹ÃÃŒÃŽÃÃ“Ã’Ã•Ã–Ã”ÃšÃ™Ã›ÃœÃ‡",c="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC",d="";if(!angular.isUndefined(a)&&""!=a)for(var e=0;e<a.length;e++)try{d+=b.search(a.substr(e,1))>=0?c.substr(b.search(a.substr(e,1)),1):a.substr(e,1)}catch(f){}return d}}]);